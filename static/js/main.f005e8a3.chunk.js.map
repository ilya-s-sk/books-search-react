{"version":3,"sources":["actions/index.js","components/pages/book.png","components/spinner/spinner.js","components/error/error.js","components/pages/ItemPage.js","components/book-item/book.png","components/book-item/BookItem.js","components/books-list/BooksList.js","components/search-panel/bg.jpg","components/search-panel/SearchPanel.js","components/pages/MainPage.js","components/app/App.js","reducers/index.js","store.js","index.js"],"names":["booksRequested","type","booksError","Spinner","className","Error","ItemPage","id","this","props","match","params","books","length","getBookById","then","res","bookLoaded","catch","err","clearBooks","a","fetch","json","loading","error","item","find","el","book","volumeInfo","title","description","authors","join","categories","imageUrl","imageLinks","thumbnail","bookImg","onClick","history","goBack","src","alt","React","Component","mapDispatchToProps","payload","connect","state","BookItem","route","to","increaseStartIndex","moreBooksLoaded","items","searchText","orderBy","category","startIndex","totalItems","searchString","map","loadBooks","searchTextEnter","orderSelected","selectedOrder","categorySelected","selectedCategory","booksLoaded","style","background","Background","onSubmit","e","preventDefault","getBooks","value","onChange","target","MainPage","App","path","exact","component","initialState","reducer","action","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f005e8a3.chunk.js","sourcesContent":["const searchTextEnter = (searchText) => {\r\n    return {\r\n        type: 'SEARCH_TEXT_ENTER',\r\n        payload: searchText\r\n    }\r\n}\r\n\r\nconst orderSelected = (selectedOrder) => {\r\n    return {\r\n        type: 'ORDER_SELECTED',\r\n        payload: selectedOrder\r\n    }\r\n}\r\n\r\nconst categorySelected = (selectedCategory) => {\r\n    return {\r\n        type: 'CATEGORY_SELECTED',\r\n        payload: selectedCategory\r\n    }\r\n}\r\n\r\nconst booksLoaded = (res) => {\r\n    return {\r\n        type: 'BOOKS_LOADED',\r\n        payload: res\r\n    }\r\n};\r\n\r\nconst bookLoaded = (res) => {\r\n    return {\r\n        type: 'BOOK_LOADED',\r\n        payload: res\r\n    }\r\n}\r\n\r\nconst booksRequested = () => {\r\n    return {\r\n        type: 'BOOKS_REQUESTED'\r\n    }\r\n};\r\n\r\nconst booksError = () => {\r\n    return {\r\n        type: 'BOOKS_ERROR'\r\n    }\r\n};\r\n\r\nconst increaseStartIndex = () => {\r\n    return {\r\n        type: 'INCREASE_START_INDEX'\r\n    }\r\n}\r\n\r\nconst moreBooksLoaded = (res) => {\r\n    return {\r\n        type: 'MORE_BOOKS_LOADED',\r\n        payload: res.items\r\n    }\r\n}\r\n\r\nconst clearBooks = () => {\r\n    return {\r\n        type: 'BOOKS_CLEARED'\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    searchTextEnter,\r\n    orderSelected,\r\n    categorySelected,\r\n    booksLoaded,\r\n    bookLoaded,\r\n    booksRequested,\r\n    booksError,\r\n    increaseStartIndex,\r\n    moreBooksLoaded,\r\n    clearBooks\r\n}","export default __webpack_public_path__ + \"static/media/book.030c132c.png\";","import './spinner.scss'\r\n\r\nconst Spinner = () => {\r\n    return <div className=\"spinner-block\"> <div className=\"lds-dual-ring\"></div> </div>\r\n}\r\n\r\nexport default Spinner;","import './error.scss'\r\n\r\nconst Error = () => {\r\n    return (<div className=\"error\">\r\n                <p>Something went wrong</p>\r\n                <p>Try again later</p>\r\n            </div>)\r\n}\r\n\r\nexport default Error;","import React from 'react';\r\n\r\nimport {connect} from 'react-redux';\r\nimport { booksRequested, booksError, bookLoaded, clearBooks } from '../../actions';\r\n\r\nimport './item-page.scss';\r\nimport bookImg from './book.png'\r\nimport Spinner from '../spinner/spinner';\r\nimport Error from '../error/error';\r\n\r\nclass ItemPage extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const id = this.props.match.params.id;\r\n        \r\n        if (!this.props.books.length) {\r\n            this.props.booksRequested()\r\n            this.getBookById(id)\r\n                .then(res => {\r\n                    this.props.bookLoaded(res)\r\n                })\r\n                .catch(err => this.props.booksError());  \r\n        } \r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.props.books.length === 1) this.props.clearBooks()\r\n    }\r\n\r\n    async getBookById(id) {\r\n        return await fetch(`https://www.googleapis.com/books/v1/volumes/${id}`)\r\n                .then(res => res.json());\r\n    }\r\n\r\n    render() {\r\n        if (this.props.loading) {\r\n            return <Spinner/>\r\n        }\r\n        if (this.props.error) {\r\n            return <Error/>\r\n        }\r\n        const item = this.props.books?.find(el => el.id === this.props.match.params.id);\r\n        const book = item ? item.volumeInfo : 0;\r\n        const {title, description} = book;\r\n        const authors = book.authors?.join(', ');\r\n        const categories = book.categories?.join(', ');\r\n        const imageUrl = book.imageLinks ? book.imageLinks.thumbnail : bookImg;\r\n\r\n        return (\r\n            <div className = \"item-page\">\r\n                <button onClick={this.props.history.goBack} className=\"item-page__back-btn\">Go Back</button>\r\n                <div className=\"item-page__img-block\">\r\n                    <img src={imageUrl} alt={title} className=\"item-page__img\"></img>\r\n                </div>\r\n            \r\n                <div className=\"item-page__text-block\">\r\n                    <p className=\"item-page__category\">{categories}</p>\r\n                    \r\n                    <p className=\"item-page__title\">{title}</p>\r\n                    <p className=\"item-page__author\">{authors}</p>\r\n                \r\n                    <p className=\"item-page__description\">{description}</p>\r\n                </div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        loading: state.loading,\r\n        error: state.error,\r\n        books: state.books\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    booksRequested,\r\n    booksError,\r\n    bookLoaded,\r\n    clearBooks\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemPage);","export default __webpack_public_path__ + \"static/media/book.030c132c.png\";","import './book-item.scss';\r\nimport bookImg from './book.png'\r\n\r\nimport {Link} from 'react-router-dom';\r\n\r\nfunction BookItem({book, route}) {\r\n    const {title} = book;\r\n    const authors = book.authors?.join(', ');\r\n    const categories = book.categories?.[0];\r\n    const imageUrl = book.imageLinks ? book.imageLinks.thumbnail : bookImg;\r\n    \r\n    return (\r\n        // <div className=\"book-item\">\r\n            <Link to={`/${route}`} className=\"book-item\">\r\n                                                    \r\n            <div className=\"book-item__img-block\">\r\n                <img src={imageUrl} alt={title} className=\"book-item__img\"></img>\r\n            </div>\r\n            \r\n            <p className=\"book-item__author\">{authors}</p>\r\n            <p className=\"book-item__title\">{title}</p>\r\n            \r\n            <p className=\"book-item__category\">{categories}</p>\r\n            </Link>\r\n        // </div>\r\n    )\r\n}\r\n\r\nexport default BookItem","import BookItem from '../book-item/BookItem';\r\nimport Spinner from '../spinner/spinner';\r\nimport Error from '../error/error';\r\n\r\nimport {booksRequested, booksError, increaseStartIndex, moreBooksLoaded} from \"../../actions\";\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport './books-list.scss';\r\n\r\nfunction BooksList({\r\n            searchText, orderBy, category, startIndex, books, totalItems, \r\n            loading, error, \r\n            increaseStartIndex, moreBooksLoaded, booksRequested, booksError\r\n        }) {\r\n\r\n    async function loadBooks(searchText, orderBy, category, startIndex) {\r\n        const searchString = category === 'all' \r\n                            ? `${searchText}&orderBy=${orderBy}` \r\n                            : `subject:${category}+${searchText}&orderBy=${orderBy}`;\r\n\r\n        return await fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchString}&startIndex=${startIndex}&maxResults=30&key=AIzaSyAWHSS_z2aDKUVsCSWiXBPgKHtsfFacIH0`)\r\n        .then(res => res.json())\r\n    }\r\n\r\n    function loadMore() {\r\n        booksRequested();\r\n        increaseStartIndex();\r\n        loadBooks(searchText, orderBy, category, startIndex)\r\n            .then(res => moreBooksLoaded(res))\r\n            .catch(err => booksError());   \r\n    }\r\n\r\n    if (loading && !books.length) {\r\n        return <Spinner/>\r\n    }\r\n\r\n    if (error && !books.length) {\r\n        return <Error/>\r\n    }\r\n\r\n    return books.length \r\n        ? (<div className=\"list-main\">\r\n                {\r\n                    books.length\r\n                    ? <p className=\"books-list__text\">Found <span className=\"books-list__text-result\">{totalItems}</span> results</p>\r\n                    : null\r\n                } \r\n                <li className=\"books-list\">\r\n                    {\r\n                        books.map(book => {\r\n                            return (    \r\n                                <BookItem book={book.volumeInfo}\r\n                                            key={book.id}\r\n                                            route={book.id} />)\r\n                        })   \r\n                    }\r\n                </li>\r\n                {\r\n                    loading \r\n                    ? <Spinner/> \r\n                    : error  \r\n                    ? <Error/>\r\n                    : <button className=\"load-button\" onClick={loadMore}>Load More</button>\r\n                } \r\n            </div>)\r\n    : null\r\n    \r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        searchText: state.searchText, \r\n        orderBy: state.orderBy, \r\n        category: state.category,\r\n        startIndex: state.startIndex,\r\n        books: state.books,\r\n        totalItems: state.totalItems,\r\n        loading: state.loading,\r\n        error: state.error\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    booksRequested,\r\n    booksError,\r\n    increaseStartIndex,\r\n    moreBooksLoaded \r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BooksList);\r\n","export default __webpack_public_path__ + \"static/media/bg.c46d1f58.jpg\";","import {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport {searchTextEnter, orderSelected, categorySelected, booksRequested, booksLoaded, booksError} from '../../actions'\r\n\r\nimport './search-panel.scss';\r\nimport Background from './bg.jpg';\r\n\r\nfunction SearchPanel({\r\n            searchText, orderBy, category, \r\n            searchTextEnter, orderSelected, categorySelected, \r\n            booksRequested, booksLoaded, booksError}) {\r\n\r\n    function onSearchChange(e) {\r\n        searchTextEnter(e.target.value)\r\n    }\r\n\r\n    function onOrderSelected(e) {\r\n        orderSelected(e.target.value)\r\n    }\r\n\r\n    function onCategorySelected(e) {\r\n        categorySelected(e.target.value)\r\n    }\r\n\r\n    async function getBooks(searchText, orderBy, category) {\r\n        const searchString = category === 'all' \r\n                            ? `${searchText}&orderBy=${orderBy}` \r\n                            : `subject:${category}+${searchText}&orderBy=${orderBy}`;\r\n\r\n        return await fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchString}&maxResults=30&key=AIzaSyAWHSS_z2aDKUVsCSWiXBPgKHtsfFacIH0`)\r\n        .then(res => res.json())\r\n    }\r\n\r\n    function startSearch(e) {\r\n        e.preventDefault()\r\n        booksRequested();\r\n        getBooks(searchText, orderBy, category)\r\n            .then(res => booksLoaded(res))\r\n            .catch(err => booksError());  ;\r\n    }\r\n\r\n    return (\r\n        <div className=\"search-panel\" style={{background: `url(${Background}) center center/cover no-repeat`}}>\r\n            <Link to='/' className=\"search-panel__title\">Search for books</Link>\r\n\r\n            <form onSubmit={startSearch} className=\"search-panel__form\">\r\n                <div className=\"search-panel__search_block\">\r\n                    <input  type=\"text\" \r\n                            className=\"search-panel__search_block__input\"\r\n                            value={searchText}\r\n                            onChange={onSearchChange}\r\n                            />\r\n                    <button className=\"search-panel__search_block__btn\" type=\"submit\">Search</button>\r\n                </div>\r\n                \r\n                <div className=\"search-panel__selected-block\">\r\n                    <div className=\"search-panel__selected-block__block\">\r\n                        <p className=\"search-panel__selected-block__text\">Categories</p>\r\n                        <select value={category} onChange={onCategorySelected} className=\"search-panel__selected-block__select\">\r\n                            <option value=\"all\">All</option>\r\n                            <option value=\"art\">art</option>\r\n                            <option value=\"biography\">biography</option>\r\n                            <option value=\"computers\">computers</option>\r\n                            <option value=\"history\">history</option>\r\n                            <option value=\"medical\">medical</option>\r\n                            <option value=\"poetry\">poetry</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"search-panel__selected-block__block\">\r\n                        <p className=\"search-panel__selected-block__text\">Sorting by</p>\r\n                        <select value={orderBy} onChange={onOrderSelected} className=\"search-panel__selected-block__select\">\r\n                            <option value=\"relevance\">Relevance</option>\r\n                            <option value=\"newest\">Newest</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                \r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        searchText: state.searchText,\r\n        orderBy: state.orderBy,\r\n        category: state.category,\r\n        loading: state.loading,\r\n        error: state.error\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    searchTextEnter,\r\n    orderSelected,\r\n    categorySelected,\r\n    booksRequested,\r\n    booksLoaded,\r\n    booksError\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchPanel)","import BooksList from '../books-list/BooksList';\r\nimport SearchPanel from '../search-panel/SearchPanel'\r\n\r\nconst MainPage = () => {\r\n    return (\r\n        <>\r\n            <SearchPanel/>\r\n            <BooksList/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MainPage","import React, {Component} from 'react';\nimport './App.scss';\n\nimport ItemPage from '../pages/ItemPage';\nimport MainPage from '../pages/MainPage';\n\nimport {Switch, Route} from 'react-router-dom';\n\nclass App extends Component {\n    render() {\n        return (\n            <div className=\"App\">\n                <Switch>\n                    <Route path=\"/\" exact component={MainPage}/>\n                    {/* <Route path=\"/:id\" component={ItemPage}/> */}\n                </Switch>\n            </div>\n        );\n  }\n}\n\nexport default App;\n","const initialState = {\r\n    searchText: '',\r\n    orderBy: 'relevance',\r\n    category: 'all',\r\n    startIndex: 30,\r\n    books: [],\r\n    totalItems: null,\r\n    loading: false,\r\n    error: false, \r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case 'SEARCH_TEXT_ENTER':\r\n            return {\r\n                ...state,\r\n                searchText: action.payload\r\n            }\r\n        case 'ORDER_SELECTED':\r\n        return {\r\n            ...state,\r\n            orderBy: action.payload\r\n        }\r\n        case 'CATEGORY_SELECTED':\r\n        return {\r\n            ...state,\r\n            category: action.payload\r\n        }\r\n        case 'BOOKS_LOADED':\r\n            return {\r\n                ...state,\r\n                books: action.payload.items ? action.payload.items : [],\r\n                totalItems: action.payload.totalItems,\r\n                startIndex: 30,\r\n                loading: false,\r\n                error: false\r\n            };\r\n        case 'BOOK_LOADED':\r\n            return {\r\n                ...state,\r\n                books: [action.payload],\r\n                loading: false,\r\n                error: false\r\n            }\r\n        case 'BOOKS_REQUESTED':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case 'BOOKS_ERROR':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: true\r\n            };\r\n        case 'INCREASE_START_INDEX':\r\n            return {\r\n                ...state,\r\n                startIndex: state.startIndex + 30\r\n            }\r\n        case 'MORE_BOOKS_LOADED':\r\n            return {\r\n                ...state,\r\n                books: action.payload ? [...state.books, ...action.payload] : state.books,\r\n                loading: false\r\n            }\r\n        case 'BOOKS_CLEARED':\r\n            return {\r\n                ...initialState\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import {createStore} from 'redux';\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/app/App';\n\nimport {Provider} from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport store from './store';\n\nReactDOM.render(\n    <Provider store={store}> \n        <Router>\n            <App/>\n        </Router>\n    </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}